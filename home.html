---
title: O.U.Ba.C
layout: default-without-content-div
---

<style>

	h1{
		font-family: Canterbury, RobotoDraft, Roboto, sans-serif;;
		font-weight: normal;
	}

	svg{
		width:100%;
		height:100%;
	}

	#containerForRotation:hover {
		animation-play-state: paused;
	}
@keyframes translateZ1{
	from{transform: translateZ(0) scale(1,1);}
	to{transform: translateZ(2px) scale(0.99,0.99);}
}

@keyframes spin{
	from{transform: rotate(0deg);}
	to{transform: rotate(360deg);}
}

@keyframes rotateToPosition{
	from{transform: rotateX(0deg);}
	to{transform: matrix3d(0.722194997242236, 0.111347787760592, 0.682668335371656, 0, -0.407952325294303, 0.865591767448551, 0.290389036315536, 0, -0.558577914211848, -0.488213644100733, 0.670550633038719, 0, 0, 0, 0, 1);}
}

@font-face {
    font-family: Canterbury;
    src: url('/assets/Canterbury.ttf');
}

</style>
	<iframe src="/assets/logo/logo-grouped.svg" style="display: none;" id="svg" onload="run()" seamless></iframe>

	<div style="display:flex;  height: 50vw; max-height: 50vh ; width:100%; align-items: center; position:absolute; top:0; padding-top:140px; overflow: hidden;">
		<div id='container' style="perspective:200px; transform-style:preserve-3d; transform:rotateX(0deg);perspective-origin:initial; height:50vw; width:50vw;animation-duration:5s;position:absolute; right:0; top:140px; opacity:0.5; z-index:0;">
			<div id='containerForRotation'  style="height:100%; transform-style:preserve-3d; animation-duration:30s; animation-name: spin; animation-iteration-count:infinite; animation-timing-function: linear; animation-delay: 6s"></div>
		</div>
		<div style="flex-grow: 1;  z-index:1"></div>
		<h2 style="font-family: Canterbury; font-weight: normal; font-size: 10vw; margin: 0px; text-align:center; align-items: center;  z-index:1">O.U.Ba.C</h2>
		<div style="flex-grow:2;  z-index:1"></div>
	</div>
<div id="placeholder" style="height: 50vw; max-height: 50vh ; width:100%; padding-top:140px;"></div>
<div style="display: flex; flex-wrap: wrap; margin: 0 auto; max-width: 1200px; justify-content: center;">
	<div style="display: inline-block; background-color:#002147; margin: 5px; box-sizing: border-box; padding: 10px; color: #f9f9f9; max-width: 600px; " class="card">
		<h2 style="color: #f9f9f9">Latest <br> News</h3>
	</div>
	{% for post in site.posts limit 12 %}
		<div style="display: inline-block; background-color:#002147; margin: 5px; width:280px; box-sizing: border-box; padding: 10px; color: #f9f9f9; flex-grow: 1; max-width: 600px; " class="card">
			<h3>{{post.title}}</h3>
			<p>{{post.excerpt}}</p>
		</div>
	{% endfor %}
</div>
<script>

	var index =0;
	var nodeIndex =0;
	var length = 0;
	var test;
	var d;
	var breakpoints =[];
	var nodes =[];
  var singleNode;
  var container = document.getElementById('container');
	var containerForRotation = document.getElementById('containerForRotation');
  var offset =0;
	var divs;
	var layerDiff = 2;
	var styleSheet = document.styleSheets[0];

	function run(){
		nodeIndex =0;
		var iframe = document.getElementById("svg");
		var svg = iframe.contentDocument.childNodes[0];
		svg.style.height = '100%';
		svg.style.width = '100%';
		nodes = svg.childNodes;
		length = nodes.length;
    singleNode = nodes[0];
    create();
	}

  function create(){
		for( index = 0; index<length;index++){
    var newDiv = document.createElement('div');
    newDiv.style.opacity="1";
    newDiv.style.height="100%";
    newDiv.style.width="100%";
    newDiv.style.position="absolute";
		newDiv.style.animationDuration="2s";
		newDiv.addEventListener("animationend",function (){this.style.animationName = "";});
    var newSVG = document.createElementNS('http://www.w3.org/2000/svg','svg');
		newSVG.setAttribute("viewBox", "0 0 1357 1357");
    newSVG.style.position="absolute"
    newSVG.appendChild(nodes[index].cloneNode(true));
    var newNode;
    for( var i=index; i < length; i++){
      newNode = nodes[i].cloneNode(true);
      newNode.style.opacity = "0.05"
      newSVG.appendChild(newNode);
    }
    newDiv.appendChild(newSVG);
    containerForRotation.appendChild(newDiv);
		}
		container.style.animationName = "rotateToPosition";
		container.addEventListener("animationend",function (){this.style.animationName = "";});
		container.style.transform ="matrix3d(0.722194997242236, 0.111347787760592, 0.682668335371656, 0, -0.407952325294303, 0.865591767448551, 0.290389036315536, 0, -0.558577914211848, -0.488213644100733, 0.670550633038719, 0, 0, 0, 0, 1)";
		currentMatrix = [0.722194997242236, 0.111347787760592, 0.682668335371656, 0, -0.407952325294303, 0.865591767448551, 0.290389036315536, 0, -0.558577914211848, -0.488213644100733, 0.670550633038719, 0, 0, 0, 0, 1];
		setTimeout(addDepth,5000);
  }

	function addDepth(){
		console.log("addDepth");
		var divs = containerForRotation.childNodes;
		for ( var i =1; i< divs.length; i++){
			var depth = layerDiff*i + offset;
			var newDiv = containerForRotation.childNodes[i];
			var scale = (200-depth)/200;
			//newDiv.animate([  {transform: "translateZ(0) scale(1,1)"},  {transform: "translateZ("+depth+"px) scale("+scale+","+scale+")"}], 1000);
			var keyframes ="@keyframes translateZ"+i+"{				from{transform: translateZ(0) scale(1,1);}				to{transform: translateZ("+depth+"px) scale("+scale+","+scale+");}			}";
			styleSheet.insertRule(keyframes,0);
			newDiv.style.animationDirection = "normal";
			newDiv.style.animationName = "translateZ"+i;
			newDiv.style.transform="translateZ("+depth+"px) scale("+scale+","+scale+")";
		}
	}

	function removeDepth(){
		var divs =  containerForRotation.childNodes;
		for ( var i =1; i< divs.length; i++){
			var newDiv = containerForRotation.childNodes[i];
			newDiv.style.animationDirection = "reverse";
			newDiv.style.animationName = "translateZ"+i;
			newDiv.style.transform="translateZ(0) scale(1,1)";
		}
	}

	function removeRotation(){
		var keyframes ="@keyframes removeRotation{				from{transform: matrix3d("+currentMatrix+")}				to{transform: rotateX(0)}			}";
		styleSheet.insertRule(keyframes,0);
		container.style.animationName="removeRotation";
		container.style.transform = "rotateX(0)";
		currentMatrix = [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
	}

window.onload = addListeners;

var mouseDownVect = [];
var mouseMoveVect = [];
var rotationAxis = [];
var angle;
var currentMatrix = [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
var boundingRect = container.getBoundingClientRect();
var center = [(boundingRect.left+boundingRect.right)/2,(boundingRect.top+boundingRect.bottom)/2] ;
var radius = Math.min(boundingRect.height, boundingRect.width)/2;

function addListeners(){
    document.getElementById('container').addEventListener('mousedown', mouseDown, false);
    window.addEventListener('mouseup', mouseUp, false);
}

function mouseUp(){
    window.removeEventListener('mousemove', rotate, true);
		var values = window.getComputedStyle(container,null).getPropertyValue("transform").split('(')[1].split(')')[0].split(',');
		currentMatrix = values;
		container.style.transform = "matrix3d("+currentMatrix+")";
}

function mouseDown(e){
  mouseDownVect[0] = e.clientX - center[0];
  mouseDownVect[1] = e.clientY - center[1];
	zsq = radius*radius - mouseDownVect[0]*mouseDownVect[0] - mouseDownVect[1]*mouseDownVect[1];
	console.log(zsq);
	if(zsq > 0){
		mouseDownVect[2] = Math.sqrt(zsq);
	}else{
		mouseDownVect[2]=0;
	}
  window.addEventListener('mousemove', rotate, true);
}

function rotate(e){
			e.preventDefault();
			mouseMoveVect[0] = e.clientX - center[0];
		  mouseMoveVect[1] = e.clientY - center[1];
			zsq = radius*radius - mouseMoveVect[0]*mouseMoveVect[0] - mouseMoveVect[1]*mouseMoveVect[1];
			if(zsq > 0){
				mouseMoveVect[2] = Math.sqrt(zsq);
			}else{
				mouseMoveVect[2]=0;
			}
					rotationAxis[0] = mouseDownVect[1]*mouseMoveVect[2]-mouseDownVect[2]*mouseMoveVect[1];
					rotationAxis[1] = mouseDownVect[2]*mouseMoveVect[0]-mouseDownVect[0]*mouseMoveVect[2];
					rotationAxis[2] = mouseDownVect[0]*mouseMoveVect[1]-mouseDownVect[1]*mouseMoveVect[0];
					angle = calcAngle(mouseDownVect, mouseMoveVect);
					container.style.transform = "rotate3d("+ rotationAxis+","+angle+"rad) matrix3d("+currentMatrix+")";

    return false;
}

function calcAngle(vect_1, vect_2){
		var numerator   =   vect_1[0]*vect_2[0] + vect_1[1]*vect_2[1] + vect_1[2]*vect_2[2],
				denominator =   Math.sqrt(vect_1[0]*vect_1[0] + vect_1[1]*vect_1[1] + vect_1[2]*vect_1[2])*
												Math.sqrt(vect_2[0]*vect_2[0] + vect_2[1]*vect_2[1] + vect_2[2]*vect_2[2]),
				angle       =   Math.acos(numerator/denominator);

		return angle;
}

function remove(){
  if(index!=0){
    index--;
    container.removeChild(container.lastChild);
    setTimeout(remove, 20);
  };


}

</script>
