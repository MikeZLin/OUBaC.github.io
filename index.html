---
title: O.U.Ba.C
layout: home-layout
stylesheets:
- /styles/index-styles.css
---
<div id="title-and-logo-container">
	<div id='container'>
		<div id='containerForRotation'  style=""></div>
	</div>
	<div style="-webkit-box-flex: 1;-webkit-flex-grow: 1;-ms-flex-positive: 1;flex-grow: 1; z-index:1"></div>
	<div>
		<h2 id="home-title">O.U.Ba.C</h2>
		<h3 class="home-title-caption full-justify"><span class="canterbury">O</span>xford <span class="canterbury">U</span>niversity <span class="canterbury">Ba</span>dminton <span class="canterbury">C</span>lub</h3>
	</div>
	<div style="-webkit-box-flex: 2;-webkit-flex-grow: 2;-ms-flex-positive: 2;flex-grow: 2; z-index:1"></div>
</div>
<div id="placeholder" ></div>
<div style="position:relative;"> <div style="background: url(/assets/test-white.svg);height:100%; position: absolute; width: 100%; opacity: 0.2; top: 0;z-index:1;"></div>
<div style="z-index: 2; position: relative;">
	<div style="background: url(/assets/test.svg);position:absolute; height:100%; width:100%;opacity:0.5;"></div>
		<div class="content" id="latest-news-container">
			<div>
				<h2 style="color: #002147; font-size:40px;">Latest <br> News</h3>
				</div>
				<div id="latest-news-card-container">
					{% for post in site.posts limit: 3 %}
					<a href="{{post.url}}" class="card latest-news-card"><div>
						<h3>{{post.title}}</h3>
						<p>{{post.excerpt}}</p>
					</div>
				</a>
				{% endfor %}
			</div>
		</div>
</div>
<div style="background-color: #033;text-align:center; padding: 10px; position: relative;" >
	<h2 style="color: #fff; font-size: 25px; display: inline; background-color: #033; border-radius: 5px; vertical-align: middle; z-index: 2;font-weight: normal;">Join the Mailing List</h2>
	<a href="http://groupspaces.com/oubac/join" class="button" style="color:#fff; z-index:2; position: relative; margin: 10px;">Sign Up</a>
</div>
</div>
<div id="key-point-container" class="content">
	<div class="key-point">
		<span class="letter-in-circle">C</span>
		<h2>Clubnight</h2>
		<p>Clubnight sessions are friendly sessions open to everyone. A player of any standard will be any able to get good games here.</p>
	</div>
	<div class="key-point">
		<span class="letter-in-circle">S</span>
		<h2>Squad</h2>
		<p>The Squad offers the best players the opportunity to test their abilities in a competitive setting. Members of the squad compete in the local leagues and in B.U.C.S.</p>
	</div>
<div class="key-point">
	<span class="letter-in-circle">R</span>
	<h2>Restringing</h2>
	<p>This service is offered by Oxford University's and Oxfordshire County's very own coach, Larry Ng. Restringing will cost you from only &#163;13, with a &#163;2 reimbursement to the university's club.</p>
</div>
</div>
<script>

var rotateToPositionTime = 2; //Seconds;
var targetMatrix = [0.722194997242236, 0.111347787760592, 0.682668335371656, 0, -0.407952325294303, 0.865591767448551, 0.290389036315536, 0, -0.558577914211848, -0.488213644100733, 0.670550633038719, 0, 0, 0, 0, 1];
var expandTime = 1; //Seconds

var index =0;
var length = 0;
var nodes =[];
var container = document.getElementById('container');
var containerForRotation = document.getElementById('containerForRotation');
var offset =0;
var divs;
var layerDiff = 2;
var styleSheet = document.styleSheets[0];

function run(){
	var iframe = document.getElementById("svg");
	var svg = iframe.contentDocument.childNodes[0];
	nodes = svg.childNodes;
	length = nodes.length;
	create();
}

function create(){
	for(index = 0; index<length;index++){
		var newDiv = document.createElement('div');
		newDiv.classList.add('svg-layer');
		newDiv.addEventListener("animationend",function (){this.style.animationName = "";});
		var newSVG = document.createElementNS('http://www.w3.org/2000/svg','svg');
		newSVG.setAttribute("viewBox", "0 0 1357 1357");
		newSVG.style.position="absolute"
		newSVG.appendChild(nodes[index].cloneNode(true));
		var newNode;
		for( var i=index; i < length; i++){
			newNode = nodes[i].cloneNode(true);
			newNode.style.opacity = "0.05"
			newSVG.appendChild(newNode);
		}
		newDiv.appendChild(newSVG);
		containerForRotation.appendChild(newDiv);
	}
	var rotateToPosition = "@keyframes rotateToPosition{from{transform: rotateX(0deg);}to{transform:matrix3d("+targetMatrix+")}}";
	styleSheet.insertRule(rotateToPosition,0);
	container.style.animationName = "rotateToPosition";
	container.style.animationDuration = rotateToPositionTime +"s";
	container.addEventListener("animationend",function (){this.style.animationName = "";});
	container.style.transform = "matrix3d("+targetMatrix+")"
	currentMatrix = targetMatrix;
	setTimeout(addDepth,rotateToPositionTime*1000);
}

function addDepth(){
	var divs = containerForRotation.childNodes;
	for ( var i =1; i< divs.length; i++){
		var depth = layerDiff*i + offset;
		var newDiv = containerForRotation.childNodes[i];
		var scale = (200-depth)/200;
		//newDiv.animate([  {transform: "translateZ(0) scale(1,1)"},  {transform: "translateZ("+depth+"px) scale("+scale+","+scale+")"}], 1000); Unfortunately this is only supported on Chrome :(
		var keyframes ="@keyframes translateZ"+i+"{				from{transform: translateZ(0) scale(1,1);}				to{transform: translateZ("+depth+"px) scale("+scale+","+scale+");}			}";
		styleSheet.insertRule(keyframes,0);
		newDiv.style.animationDirection = "normal";
		newDiv.style.animationDuration = expandTime +"s";
		newDiv.style.animationName = "translateZ"+i;
		newDiv.style.transform="translateZ("+depth+"px) scale("+scale+","+scale+")";
	}
	setTimeout(startSpin,expandTime*1000);
}

function startSpin(){
	containerForRotation.style.animationName = "spin";
}

function removeDepth(){
	var divs =  containerForRotation.childNodes;
	for ( var i =1; i< divs.length; i++){
		var newDiv = containerForRotation.childNodes[i];
		newDiv.style.animationDirection = "reverse";
		newDiv.style.animationName = "translateZ"+i;
		newDiv.style.transform="translateZ(0) scale(1,1)";
	}
}

function removeRotation(){
	var keyframes ="@keyframes removeRotation{				from{transform: matrix3d("+currentMatrix+")}				to{transform: rotateX(0)}			}";
	styleSheet.insertRule(keyframes,0);
	container.style.animationName="removeRotation";
	container.style.transform = "rotateX(0)";
	currentMatrix = [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
}

window.onload = addListeners;

var mouseDownVect = [];
var mouseMoveVect = [];
var rotationAxis = [];
var angle;
var currentMatrix;
var boundingRect = container.getBoundingClientRect();
var center = [(boundingRect.left+boundingRect.right)/2,(boundingRect.top+boundingRect.bottom)/2] ;
var radius = Math.min(boundingRect.height, boundingRect.width)/2;

function addListeners(){
	document.getElementById('container').addEventListener('mousedown', mouseDown, false);
	window.addEventListener('mouseup', mouseUp, false);
}

function mouseUp(){
	window.removeEventListener('mousemove', rotate, true);
	var values = window.getComputedStyle(container,null).getPropertyValue("transform").split('(')[1].split(')')[0].split(',');
	currentMatrix = values;
	container.style.transform = "matrix3d("+currentMatrix+")";
}

function mouseDown(e){
	mouseDownVect[0] = e.clientX - center[0];
	mouseDownVect[1] = e.clientY - center[1];
	zsq = radius*radius - mouseDownVect[0]*mouseDownVect[0] - mouseDownVect[1]*mouseDownVect[1];
	if(zsq > 0){
		mouseDownVect[2] = Math.sqrt(zsq);
	}else{
		mouseDownVect[2]=0;
	}
	window.addEventListener('mousemove', rotate, true);
}

function rotate(e){
	e.preventDefault();
	mouseMoveVect[0] = e.clientX - center[0];
	mouseMoveVect[1] = e.clientY - center[1];
	zsq = radius*radius - mouseMoveVect[0]*mouseMoveVect[0] - mouseMoveVect[1]*mouseMoveVect[1];
	if(zsq > 0){
		mouseMoveVect[2] = Math.sqrt(zsq);
	}else{
		mouseMoveVect[2]=0;
	}
	rotationAxis[0] = mouseDownVect[1]*mouseMoveVect[2]-mouseDownVect[2]*mouseMoveVect[1];
	rotationAxis[1] = mouseDownVect[2]*mouseMoveVect[0]-mouseDownVect[0]*mouseMoveVect[2];
	rotationAxis[2] = mouseDownVect[0]*mouseMoveVect[1]-mouseDownVect[1]*mouseMoveVect[0];
	angle = calcAngle(mouseDownVect, mouseMoveVect);
	container.style.transform = "rotate3d("+ rotationAxis+","+angle+"rad) matrix3d("+currentMatrix+")";

	return false;
}

function calcAngle(vect_1, vect_2){
	var numerator   =   vect_1[0]*vect_2[0] + vect_1[1]*vect_2[1] + vect_1[2]*vect_2[2],
	denominator =   Math.sqrt(vect_1[0]*vect_1[0] + vect_1[1]*vect_1[1] + vect_1[2]*vect_1[2])*
	Math.sqrt(vect_2[0]*vect_2[0] + vect_2[1]*vect_2[1] + vect_2[2]*vect_2[2]),
	angle       =   Math.acos(numerator/denominator);

	return angle;
}

function remove(){
	if(index!=0){
		index--;
		container.removeChild(container.lastChild);
		setTimeout(remove, 20);
	};


}

</script>
<iframe src="/assets/logo/logo-white-grouped.svg" style="display: none;" id="svg" onload="run()" seamless></iframe>
